#!/usr/bin/env python3
# -*- coding: utf-8 -*- 
# @author   : Quan Liu
# @date     : 2020/6/3 13:12
import matplotlib.pyplot as plt

from utils import config


def plot_loss(train_loss,eval_loss):
    epochs=[epoch for epoch in range(len(train_loss))]

    plt.figure()
    plt.plot(epochs,train_loss,label='train_loss')
    plt.plot(epochs,eval_loss,label='eval_loss')
    plt.xlabel(u"Epoch")
    plt.ylabel(u"Loss")
    for epoch,train_loss in zip(epochs,train_loss):
        if epoch%5==0:
            plt.text(epoch,train_loss,"%.2f" % train_loss, ha='center', va='bottom', fontsize=8)
    for epoch,eval_loss in zip(epochs,eval_loss):
        if epoch%5==0:
            plt.text(epoch,eval_loss,"%.2f" % eval_loss, ha='center', va='bottom', fontsize=8)

    plt.legend(loc='upper center')
    plt.show()
    print("show")
if __name__=='__main__':
    # hid_dim_256
    # train_loss= [5.416039, 4.512374, 4.286219, 3.9906611, 3.755588, 3.594292, 3.482859, 3.382008, 3.295814, 3.237997,
    #              3.1737242, 3.1167052, 3.055032, 2.997871, 2.9488363, 2.900565, 2.841036, 2.7711465, 2.7127123,
    #              2.6680923, 2.6169524, 2.570171, 2.5359328, 2.5036407, 2.452988, 2.4162812, 2.3804126, 2.3489118,
    #              2.297343, 2.24269, 2.1999335, 2.183559, 2.172936, 2.1180813, 2.055061, 2.0017252, 1.9593134, 1.9161886,
    #              1.8908086, 1.8746638, 1.8676009, 1.8487052, 1.8194288, 1.79449, 1.7762263, 1.7319069, 1.683702,
    #              1.6472701, 1.6247239, 1.6155989]
    # eval_loss=[4.6484194, 4.453134, 4.187192, 3.9283793, 3.8388436, 3.7532864, 3.622584, 3.5941904, 3.5588002,
    #             3.5122275, 3.459072, 3.4431775, 3.455169, 3.4230175, 3.3806534, 3.3619955, 3.3464897, 3.3468666,
    #             3.3632483, 3.377024, 3.3827834, 3.3847404, 3.3682609, 3.4155123, 3.395435, 3.4265728, 3.4317062,
    #             3.4202821, 3.4339333, 3.4509943, 3.4722779, 3.4978278, 3.5165691, 3.5279584, 3.5475135, 3.5778224,
    #             3.6124053, 3.6566243, 3.6734815, 3.6829839, 3.7163084, 3.719851, 3.7442744, 3.7912805, 3.7970395,
    #             3.8012836, 3.8406663, 3.8954184, 3.9439805, 3.9921298]
    # result_0603
    # train_loss=[4.675853, 3.773022, 3.4717886, 3.3019555, 3.1707952, 3.0518095, 2.939155, 2.8269255, 2.7231302,
    #              2.631791, 2.5629592, 2.4789398, 2.376683, 2.2833648, 2.2070732, 2.1478558, 2.0881467, 2.0304916,
    #              1.9657326, 1.8783473, 1.8205479, 1.7659527, 1.7010608, 1.6469615, 1.6065711, 1.569142, 1.5430236,
    #              1.5139403, 1.460316, 1.4098862, 1.3772852, 1.3485875, 1.3169334, 1.2842158, 1.2683637, 1.2555076,
    #              1.2449943, 1.222558, 1.2006376, 1.1815853, 1.1661597, 1.1535413, 1.1389159, 1.1225101, 1.1076223,
    #              1.0982194, 1.0913291, 1.0881281, 1.0839667, 1.0907404]
    # eval_loss=[4.059617, 3.6792471, 3.529271, 3.4402199, 3.3890502, 3.3618917, 3.3447833, 3.3344839, 3.3341444,
    #             3.3464732, 3.3585522, 3.3666306, 3.4003136, 3.4350283, 3.475859, 3.5156713, 3.5666304, 3.6179276,
    #             3.6465666, 3.7013586, 3.7538033, 3.812309, 3.8783548, 3.9543128, 4.0353622, 4.090515, 4.1380787,
    #             4.193525, 4.257187, 4.3103967, 4.3671613, 4.4432673, 4.5207415, 4.569183, 4.639501, 4.7190943,
    #             4.7685275, 4.7802987, 4.850133, 4.8952684, 4.9637365, 4.996518, 5.026044, 5.064056, 5.126754, 5.179754,
    #             5.1958904, 5.235965, 5.296928, 5.3180966]
    # hid_dim_512(result_5)
    # train_loss=[3.6456685, 3.4161031, 3.2626746, 3.1392918, 3.0266888, 2.9281788, 2.8425357, 2.7659657, 2.701216, 2.615177, 2.5277874, 2.446236, 2.380746, 2.3405797, 2.2642994, 2.17014, 2.0933754, 2.0331774, 1.9868928, 1.9445525, 1.8855848, 1.8117799, 1.7429316, 1.6666886, 1.597309, 1.5430112, 1.4998667, 1.4676399, 1.4245173, 1.3725257, 1.357556, 1.3637738, 1.33962, 1.2938101, 1.2554922, 1.2114552, 1.1812621, 1.1482325, 1.120476, 1.1021918, 1.0922724, 1.079769, 1.064879, 1.0418292, 1.0314256, 1.0213476, 1.0303115, 1.0458771, 1.0606633, 1.0639147]
    # eval_loss =[3.6865888, 3.5827563, 3.5243738, 3.4693573, 3.4247153, 3.4141388, 3.381995, 3.3913116, 3.3888528, 3.3967283, 3.40805, 3.4382472, 3.4328978, 3.4034574, 3.430886, 3.4408574, 3.4949164, 3.5377784, 3.560046, 3.580008, 3.6524541, 3.675964, 3.6778705, 3.735963, 3.817344, 3.8611424, 3.922779, 3.9443822, 4.0257673, 4.0612154, 4.102582, 4.140275, 4.2131205, 4.2429504, 4.2653446, 4.319993, 4.3445864, 4.384749, 4.446444, 4.4834027, 4.539357, 4.599414, 4.630227, 4.676934, 4.7527404, 4.809966, 4.775351, 4.7856507, 4.7967563, 4.82104]
    # result_0603_epoch_10
    # train_loss=[4.6768694, 3.7751992, 3.4737282, 3.307061, 3.1746798, 3.052437, 2.9394958, 2.8313684, 2.7362974,
    #              2.6512592]
    # eval_loss=[4.059865, 3.6802804, 3.5291567, 3.441778, 3.3950734, 3.3664212, 3.3490126, 3.337555, 3.336593,
    #             3.3453429]
    # dropout_GRU
    # train_loss=[4.6890755, 3.7987285, 3.4982936, 3.3250391, 3.1926901, 3.073103, 2.9591491, 2.847538, 2.7454739,
    #              2.6562014, 2.5735884, 2.4882584, 2.4012964, 2.3155751, 2.229181, 2.1584592, 2.0760834, 2.0090406,
    #              1.9714208, 1.889939, 1.8102771, 1.7405198, 1.6964197, 1.6567209, 1.6130588, 1.5655152, 1.5307709,
    #              1.4998187, 1.4538611, 1.4091465, 1.3772502, 1.3491191, 1.3235011, 1.292197, 1.2658587, 1.2388005,
    #              1.2157277, 1.2024186, 1.1993185, 1.1924553, 1.189163, 1.1894834, 1.1828821, 1.1621299, 1.1423415,
    #              1.1287568, 1.1241832, 1.121918, 1.1150597, 1.1040099]
    # eval_loss=[4.0992594, 3.7066078, 3.5529137, 3.4608564, 3.4036283, 3.3717873, 3.354702, 3.347871, 3.3423388,
    #             3.3476975, 3.36765, 3.3811712, 3.4063308, 3.4398625, 3.4704847, 3.506744, 3.5737014, 3.640976,
    #             3.6478584, 3.6943326, 3.7589679, 3.821991, 3.9071987, 3.971808, 4.0332, 4.087644, 4.1693196, 4.219642,
    #             4.2893066, 4.345412, 4.417291, 4.4830074, 4.538261, 4.6005535, 4.657526, 4.7247, 4.786819, 4.8406577,
    #             4.8914843, 4.919326, 4.9845104, 5.0258994, 5.0190935, 5.0597153, 5.102582, 5.1595154, 5.181055,
    #             5.203012, 5.2476807, 5.307479]
    # dorpout_layer
    # train_loss=[5.471475, 4.5519643, 4.2640476, 3.9415984, 3.738559, 3.5879695, 3.4715137, 3.3921616, 3.3213363,
    #              3.2493937, 3.1797562, 3.115524, 3.0692844, 3.011688, 2.962202, 2.911077, 2.873, 2.8268301, 2.7796001,
    #              2.7455425, 2.6998606, 2.6528928, 2.604144, 2.5608659, 2.530647, 2.4978979, 2.4552794, 2.414839,
    #              2.387997, 2.3403933, 2.2943604, 2.2436604, 2.209421, 2.1858206, 2.1647549, 2.1493807, 2.1201475,
    #              2.072245, 2.0308204, 1.9937426, 1.9737434, 1.9732229, 1.971362, 1.9290648, 1.8747866, 1.8336443,
    #              1.8036859, 1.776013, 1.7448311, 1.722754]
    # eval_loss= [4.815391, 4.498943, 4.2250333, 4.0273833, 3.869149, 3.7498996, 3.7298524, 3.6574304, 3.6216261,
    #             3.5743458, 3.4846718, 3.4836903, 3.483359, 3.4684718, 3.4371948, 3.4380474, 3.4485114, 3.4302568,
    #             3.4195125, 3.427431, 3.418459, 3.421683, 3.4166574, 3.4347522, 3.4499695, 3.4303875, 3.4392107,
    #             3.4827404, 3.464202, 3.4574852, 3.4810154, 3.504884, 3.5235283, 3.5418684, 3.5877354, 3.5835855,
    #             3.5991125, 3.6117656, 3.6444266, 3.6718228, 3.7239048, 3.7548072, 3.7291267, 3.741412, 3.7597287,
    #             3.8160288, 3.8340561, 3.8678083, 3.8919964, 3.918185]
    # # dorpout_layer_0.4
    # train_loss= [5.4617105, 4.553639, 4.3014746, 3.984366, 3.769154, 3.6130645, 3.4933615, 3.4169765, 3.3485029,
    #              3.271813, 3.2009795, 3.1450312, 3.0967648, 3.0339177, 2.9812794, 2.9270234, 2.879079, 2.841502,
    #              2.7892873, 2.7411044, 2.687342, 2.6454556, 2.5996869, 2.5690358, 2.5457635, 2.5154824, 2.4711614,
    #              2.43056, 2.4020784, 2.3694215, 2.3365834, 2.2907457, 2.2407272, 2.1945856, 2.1439836, 2.0974896,
    #              2.059935, 2.0263603, 2.010864, 1.9978149, 1.9855658, 1.9687284, 1.9461441, 1.9035641, 1.8487176,
    #              1.8166695, 1.7964717, 1.7859437, 1.7677438, 1.7521673]
    # eval_loss= [4.793802, 4.5013223, 4.2676997, 4.0653744, 3.8792174, 3.8258867, 3.746803, 3.6576185, 3.6248295,
    #             3.5966835, 3.5245464, 3.5090368, 3.4763746, 3.4626064, 3.45553, 3.4475603, 3.4495265, 3.4583771,
    #             3.4340487, 3.4346027, 3.4351213, 3.4162862, 3.423773, 3.4357216, 3.46478, 3.467965, 3.4650776, 3.475415,
    #             3.4769506, 3.4821918, 3.4968042, 3.5135772, 3.523916, 3.5423892, 3.5514946, 3.5872905, 3.6229775,
    #             3.6428595, 3.6813157, 3.7076633, 3.748091, 3.7648957, 3.7706785, 3.7662137, 3.807296, 3.8624258,
    #             3.8933818, 3.925623, 3.9594624, 3.935795]
    # lr_e-4
    train_loss=[6.708854, 6.1965914, 4.9757338, 4.807015, 4.72949, 4.678333, 4.6245613, 4.5820146, 4.536693, 4.4922457,
                 4.4478803, 4.412779, 4.3854256, 4.3357253, 4.27013, 4.1885867, 4.1248713, 4.0814443, 4.037847,
                 3.9993453, 3.9567103, 3.929794, 3.8931763, 3.8614852, 3.8423374, 3.821387, 3.7961195, 3.7712317,
                 3.7502303, 3.731239, 3.7130086, 3.6860614, 3.6654763, 3.6491122, 3.6302826, 3.6143472, 3.5959737,
                 3.5783257, 3.5653832, 3.5466862, 3.5312166, 3.5226972, 3.5033937, 3.4934082, 3.4788253, 3.4670513,
                 3.4564877, 3.4478786, 3.4322934, 3.4232433, 3.4113495, 3.4039235, 3.3916101, 3.3880699, 3.375275,
                 3.364965, 3.3558738, 3.3430717, 3.3424013, 3.328609, 3.3198996, 3.3108523, 3.3020089, 3.2897763,
                 3.2757463, 3.2811365, 3.2662733, 3.2721176, 3.2647893, 3.2499743, 3.23976, 3.232757, 3.2265391,
                 3.2146277, 3.2119098, 3.2092042, 3.2011983, 3.1862197, 3.1771655, 3.1795866, 3.1717067, 3.1646204,
                 3.157237, 3.1466763, 3.1480842, 3.1351297, 3.1355207, 3.120034, 3.1201012, 3.1060915, 3.0943227,
                 3.0904806, 3.0886464, 3.08067, 3.0706983, 3.0669045, 3.0624135, 3.0584323, 3.047366, 3.0390387]
    eval_loss=[6.5715675, 5.2622275, 4.925036, 4.826758, 4.7691445, 4.7233214, 4.676254, 4.629528, 4.586926, 4.549925,
                4.5164223, 4.483499, 4.44407, 4.3883915, 4.3088527, 4.2395754, 4.189431, 4.1475034, 4.107903, 4.0727882,
                4.0420513, 4.0158677, 3.9924698, 3.9698734, 3.9488957, 3.9276342, 3.9069195, 3.887655, 3.8678553,
                3.85025, 3.8322728, 3.8159199, 3.8002102, 3.7854226, 3.7712643, 3.7578795, 3.7451153, 3.7330787,
                3.7212007, 3.7109187, 3.7001543, 3.6907966, 3.680745, 3.671999, 3.6625433, 3.6539237, 3.6453454,
                3.6372507, 3.6301537, 3.6226597, 3.6161206, 3.6090066, 3.6026952, 3.5963013, 3.5900974, 3.5841005,
                3.5785952, 3.5733929, 3.5682201, 3.562996, 3.5580637, 3.5533962, 3.5484364, 3.5443103, 3.5397224,
                3.5357487, 3.5314896, 3.5276577, 3.5239363, 3.52009, 3.5172894, 3.513284, 3.509901, 3.5063202,
                3.5030708, 3.499693, 3.496755, 3.4935818, 3.4907198, 3.4876854, 3.4848874, 3.4824107, 3.479433,
                3.4772818, 3.4749591, 3.4723778, 3.470328, 3.4684227, 3.4663212, 3.4646168, 3.4623358, 3.4608183,
                3.4589107, 3.457198, 3.455508, 3.4537792, 3.451833, 3.4501545, 3.4485712, 3.4467754]

    plot_loss(train_loss,eval_loss)